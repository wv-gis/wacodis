<div class="phenomena">
  <div class="expand-button" [ngClass]="{'active': isActive}" (click)="change()">
    <span class="icon">
      <i class="fas fa-angle-right" [ngClass]="{'fa-angle-right': isActive, 'fa-angle-left': !isActive}"></i>
    </span>
  </div>

  <div class="phenomenonSelector" [ngClass]="{'active': isActive}">

    <div *ngFor="let layer of baselayers; let i = index">
      <div style="margin: 5px; padding: 5px; border: 1px solid black;">
        <div>
          <wv-extended-ol-layer-title [layer]="layer"></wv-extended-ol-layer-title>
          <span class="fa fa-times" (click)="removeLayer(i)" style="float: right;"></span>
        </div>
        <div>
          <n52-ol-layer-abstract [layer]="layer"></n52-ol-layer-abstract>
        </div>
        <div class="legendicons">
          <span style="margin: 5px;" class="fa" [ngClass]="{'fa-eye-slash': !layer?.getVisible(), 'fa-eye': layer?.getVisible()}" (click)="toggleVisibility(layer)"></span>
          <wv-extended-ol-layer-zoom-extent [layer]="layer" [mapId]="mapId"></wv-extended-ol-layer-zoom-extent>
          <wv-extended-ol-layer-legend-url [layer]="layer" (legendUrl)="getLegendUrl($event)" (legendUrls)="getLegendUrls($event)">
          </wv-extended-ol-layer-legend-url>
        </div>
        <div>
          <span>Opacity:
            <n52-ol-layer-opacitiy-slider [layer]="layer"></n52-ol-layer-opacitiy-slider>
          </span>
        </div>
        <div>
          <wv-extended-ol-layer-time-selector [layer]="layer" (selIndexTime)="getSelectedTime($event)"></wv-extended-ol-layer-time-selector>
        </div>
        <!-- <div class="legendicons">
          <n52-ol-layer-animate-time [layer]="layer"></n52-ol-layer-animate-time>
        </div> -->
      </div>
    </div>
  </div>
</div>

<div  [ngClass]="{'active': isActive}" *ngIf="drawChart" id="pieChart" style="height: 80%"></div>  

<div *ngIf="legendUrls">
    <wv-layer-legend-table [urls]="legendUrls"></wv-layer-legend-table>
</div>
